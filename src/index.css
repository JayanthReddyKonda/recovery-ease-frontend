@import url("https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300..900&display=swap");
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─────────────────────────────────────────────────────── Base */
@layer base {

    *,
    *::before,
    *::after {
        @apply border-gray-200/60;
    }

    html {
        @apply scroll-smooth;
        color-scheme: light;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    body {
        @apply font-sans text-gray-900;
        background-color: #f0f1f8;
    }

    ::selection {
        @apply bg-primary-200/70 text-primary-900;
    }

    ::-webkit-scrollbar {
        @apply w-1.5 h-1.5;
    }

    ::-webkit-scrollbar-track {
        @apply bg-transparent;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-300/60 rounded-full hover:bg-gray-400/70;
    }

    input[type="range"] {
        @apply h-1.5 appearance-none rounded-full outline-none;
        background: linear-gradient(to right, #4f46e5 var(--range-pct, 50%), #e5e7ec var(--range-pct, 50%));
    }

    input[type="range"]::-webkit-slider-thumb {
        @apply appearance-none h-5 w-5 rounded-full bg-white cursor-pointer transition-transform duration-150 hover:scale-110 active:scale-95;
        box-shadow: 0 0 0 3px #4f46e5, 0 2px 8px rgb(79 70 229 / 0.30);
    }

    input[type="range"]::-moz-range-thumb {
        @apply h-4 w-4 rounded-full bg-white cursor-pointer border-0;
        box-shadow: 0 0 0 3px #4f46e5;
    }
}

/* ──────────────────────────────────────────────── Components */
@layer components {

    /* ── Cards ──── */
    .card {
        @apply rounded-2xl border border-gray-200/70 bg-white/90 p-5 shadow-card backdrop-blur-sm;
    }

    .card-hover {
        @apply card transition-all duration-300 ease-spring hover:shadow-card-hover hover:-translate-y-1 hover:border-primary-100/80;
    }

    .card-glass {
        @apply rounded-2xl border border-white/50 bg-white/75 p-5 shadow-soft backdrop-blur-2xl;
    }

    /* ── Inputs ──── */
    .input-base {
        @apply w-full rounded-xl border border-gray-200 bg-white/80 px-4 py-2.5 text-sm text-gray-900 placeholder-gray-400 outline-none ring-0 transition-all duration-200 focus:border-primary-400 focus:ring-2 focus:ring-primary-500/20 focus:bg-white;
    }

    /* ── Buttons ──── */
    .btn {
        @apply inline-flex items-center justify-center gap-2 rounded-xl font-semibold transition-all duration-200 ease-spring outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none select-none active:scale-[0.96];
    }

    .btn-sm {
        @apply text-xs px-3 py-2;
    }

    .btn-md {
        @apply text-sm px-4 py-2.5;
    }

    .btn-lg {
        @apply text-[15px] px-6 py-3;
    }

    .btn-primary {
        @apply bg-gradient-to-b from-primary-500 to-primary-600 text-white shadow-sm focus-visible:ring-primary-500;
    }

    .btn-primary:hover {
        @apply from-primary-400 to-primary-600 shadow-glow-sm;
    }

    .btn-primary:active {
        @apply from-primary-700 to-primary-800;
    }

    .btn-secondary {
        @apply bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300 focus-visible:ring-gray-400;
    }

    .btn-danger {
        @apply bg-gradient-to-b from-red-400 to-red-500 text-white shadow-sm focus-visible:ring-red-500;
    }

    .btn-danger:hover {
        @apply from-red-300 to-red-500 shadow-glow-red;
    }

    .btn-danger:active {
        @apply from-red-600 to-red-700;
    }

    .btn-ghost {
        @apply bg-transparent text-gray-500 hover:bg-gray-100/80 hover:text-gray-700 active:bg-gray-200 focus-visible:ring-gray-400;
    }

    .btn-ghost-dark {
        @apply bg-transparent text-white/60 hover:bg-white/10 hover:text-white/90 active:bg-white/15 focus-visible:ring-white/40;
    }

    .btn-outline {
        @apply border border-gray-200 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-300 hover:shadow-xs focus-visible:ring-gray-400;
    }

    /* ── Badges ──── */
    .badge {
        @apply inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-semibold;
    }

    .badge-critical {
        @apply badge bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/15;
    }

    .badge-monitor {
        @apply badge bg-amber-50 text-amber-700 ring-1 ring-inset ring-amber-600/15;
    }

    .badge-recovering {
        @apply badge bg-emerald-50 text-emerald-700 ring-1 ring-inset ring-emerald-600/15;
    }

    .badge-normal {
        @apply badge bg-gray-100 text-gray-600 ring-1 ring-inset ring-gray-500/10;
    }

    .badge-pending {
        @apply badge bg-primary-50 text-primary-700 ring-1 ring-inset ring-primary-600/15;
    }

    /* ── Typography ──── */
    .page-heading {
        @apply text-xl font-extrabold tracking-tight text-gray-900 sm:text-2xl;
    }

    .section-heading {
        @apply text-[15px] font-semibold text-gray-800;
    }

    .metric-value {
        @apply text-2xl font-bold tracking-tight text-gray-900;
    }

    .metric-label {
        @apply text-[11px] font-semibold text-gray-400 uppercase tracking-widest;
    }

    /* ── Sidebar ──── */
    .sidebar-bg {
        background: linear-gradient(175deg, #0d1117 0%, #111520 40%, #14192b 100%);
    }
}

/* ─────────────────────────────────────────────────── Utilities */
@layer utilities {
    .text-gradient {
        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 50%, #a78bfa 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .text-gradient-warm {
        background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .bg-gradient-hero {
        background: linear-gradient(155deg, #f0f1f8 0%, #e8ebff 40%, #ede9fe 70%, #f0f1f8 100%);
    }

    .bg-dots {
        background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgb(79 70 229 / 0.08)'/%3E%3C/svg%3E");
    }

    .bg-grid {
        background-image:
            linear-gradient(rgb(79 70 229 / 0.04) 1px, transparent 1px),
            linear-gradient(to right, rgb(79 70 229 / 0.04) 1px, transparent 1px);
        background-size: 40px 40px;
    }

    .glass {
        @apply bg-white/75 backdrop-blur-2xl border border-white/60 shadow-soft;
    }

    .glass-dark {
        @apply bg-black/30 backdrop-blur-2xl border border-white/10;
    }

    .shimmer {
        background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.6) 50%, transparent 100%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite linear;
    }

    .safe-area-bottom {
        padding-bottom: env(safe-area-inset-bottom, 0px);
    }

    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}